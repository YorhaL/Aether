# ==================== 必须配置（启动前） ====================
# 以下配置项必须在项目启动前设置

# 数据库配置
DB_HOST=localhost
DB_PORT=5432
DB_USER=postgres
DB_NAME=aether
DB_PASSWORD=your_secure_password_here

# Redis 配置
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=your_redis_password_here

# JWT密钥（使用 python generate_keys.py 生成）
# 用于用户登录 token 签名，更换后所有用户需重新登录
JWT_SECRET_KEY=change-this-to-a-secure-random-string

# 独立加密密钥（用于加密 Provider API Key 等敏感数据）
# 注意：更换此密钥后需要在管理面板重新配置所有 Provider API Key
ENCRYPTION_KEY=change-this-to-another-secure-random-string

# 管理员账号（仅首次初始化时使用, 创建完成后可在系统内修改密码）
ADMIN_EMAIL=admin@example.com
ADMIN_USERNAME=admin
ADMIN_PASSWORD=admin123456

# ==================== 可选配置（有默认值） ====================
# 以下配置项有合理的默认值，可按需调整

# 应用端口（默认 8084）
# APP_PORT=8084

# API Key 前缀（默认 sk）
# API_KEY_PREFIX=sk

# 日志级别（默认 INFO，可选：DEBUG, INFO, WARNING, ERROR）
# LOG_LEVEL=INFO

# CORS 配置（允许跨域的源，多个源用逗号分隔）
# 示例: http://localhost:3000,https://example.com
# 默认: * (允许所有源)
# CORS_ORIGINS=*

# ==================== 计费系统（可选） ====================
# Video/Image/Audio 缺失 billing_rule 时是否拒绝请求（默认 false：允许请求但 cost=0 并告警）
# BILLING_REQUIRE_RULE=false
#
# required 维度缺失时是否拒绝请求/标记任务失败（默认 false：cost=0 + 标记 incomplete）
# BILLING_STRICT_MODE=false
#
# 计费引擎切换（迁移期/影子对账/灰度）
# - legacy: 仅旧系统（默认）
# - shadow: 旧系统为真值 + 新系统影子计算（写入 request_metadata.billing_shadow）
# - new_with_fallback: 新系统为真值，差异过大时回退旧系统
# - new: 仅新系统
# BILLING_ENGINE=new
#
# 按 provider/model 粒度覆盖（JSON 字符串）
# 示例: {"anthropic/*": "shadow", "openai/gpt-4*": "new"}
# BILLING_ENGINE_OVERRIDES={}
#
# 影子对账差异阈值（美元）
# BILLING_DIFF_THRESHOLD_USD=0.0001
#
# 影子差异日志级别（DEBUG/INFO/WARNING/ERROR）
# BILLING_SHADOW_LOG_LEVEL=INFO
#
# 是否启用差异告警（预留扩展）
# BILLING_DIFF_ALERT_ENABLED=false
